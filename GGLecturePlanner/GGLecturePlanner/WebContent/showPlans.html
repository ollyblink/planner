
<!doctype html>
<html ng-app="planhandler">
<head>
<title></title>
<link rel="stylesheet" type="text/css" href="style.css" />

<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.24/angular.js"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.24/angular-resource.js"></script>
<script src="https://code.angularjs.org/1.2.24/angular-sanitize.min.js"></script>
<script type="text/javascript">


        angular.module('planhandler', [])

            .controller('planCtrl', function ($scope, $http) {
                var rest = 'http://localhost:8081/GGLecturePlanner/rest/plans/allplans';  
                $scope.getAllPlans = function () {
                    return $http.get(rest).
                     success(function (data) {
                         $scope.plans = data; 
                     });
                };  
            });



    </script>


</head>

<body>
	<div class="container" ng-controller="planCtrl" ng-init="getAllPlans()">
		<div class="title">Pläne</div>
		<div>
			<a href="addPlan.html">(+) Plan hinzufügen</a>
		</div>
		<table>
			<tr ng-repeat="plan in plans">
				<td>{{plan.semester}}&nbsp;{{plan.year}}</td>
				<td><a
					href="showModules.html?planid={{plan.id}}&semester={{plan.semester}}&year={{plan.year}}">Module anzeigen/ändern/hinzufügen</a></td>
				<td><a
					href="changePlan.html?planid={{plan.id}}&semester={{plan.semester}}&year={{plan.year}}">Plan bearbeiten</a></td>
				<td><a
					href="deletePlan.html?planid={{plan.id}}&semester={{plan.semester}}&year={{plan.year}}">Plan löschen</a></td>
				<td><a
					href="printPlan.html?planid={{plan.id}}&semester={{plan.semester}}&year={{plan.year}}">Plan drucken</a></td>
					<td><a
					href="printPlan.html?planid={{plan.id}}&semester={{plan.semester}}&year={{plan.year}}">Plan kopieren</a></td>
			</tr>
		</table>
	</div>
</body>
</html>