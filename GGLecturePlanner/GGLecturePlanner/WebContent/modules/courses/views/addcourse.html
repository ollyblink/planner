<div class="container"
	ng-init="updateRoomId();getModuleDetails(getModuleId());getCourseTypes();getEmployees();getNumbers();initLecturers();getDayAbbreviations();initSelectedModuleParts();initSelectedPrimaryNr();initSelectedModulePartNr();initRoomAndTimeModels();initIsRoomtableVisible();getCourseId()">
	<form name="form" ng-submit="addCourse" role="form">
		<table>
			<tr>
				<td>LVA des Moduls</td>
				<td><p ng-repeat="pm in moduleDetails.primaryNrs">{{pm}}</p></td>
			</tr>
			<tr>
				<td><label for="coursetype">Art des Kurses</label></td>
				<td><select name="coursetype" ng-model="coursetype">
						<option ng-repeat="c in courseTypes | orderBy:'abbreviation'"
							value="{{c.abbreviation}}">{{c.abbreviation}}:
							{{c.description}}</option>
				</select></td>
			</tr>
			<tr>
				<td><label for="coursedescription">Kursbeschreibung
						(E.g. Grundzüge Fernerkundung)</label></td>
				<td><input name="coursedescription"
					ng-model="coursedescription" /></td>
			</tr>
			<tr>
				<td><label for="vvznr">VVZ Nr.</label></td>
				<td><input name="vvznr" ng-model="vvznr" /></td>
			</tr>
			<tr>
				<td><label>Modulteil </label></td>
				<td><select name="primarynr" ng-model="selectedPrimaryNr"
					ng-change="updateSelectedPrimaryNr();addModulePart();">
						<option ng-repeat="pm in moduleDetails.primaryNrs" value="{{pm}}">{{pm}}</option>
				</select> <select name="modulpart" ng-model="selectedModulePartNr"
					ng-change="addModulePart()">
						<option ng-repeat="n in modulePartNrs" value="{{n}}">{{n}}</option>
				</select></td>
			</tr>
			<tr>
				<td></td>
				<td><div ng-repeat="m in selectedModuleParts">
						{{m}} <a ng-click="deleteModulePart(m)">delete</a>
					</div></td>
			</tr>

			<tr>
				<td><label for="nrofgroups">Anzahl Gruppen</label></td>
				<td><input type="number" ng-model="nrofgroups"
					name="nrofgroups" /></td>
			</tr>
			<tr>
				<td><label for="nrofstudentsexpectedpergroup">Anzahl
						Studenten erwartet pro Gruppe</label></td>
				<td><input type="Number"
					ng-model="nrofstudentsexpectedpergroup"
					name="nrofstudentsexpectedpergroup" /></td>
			</tr>
			<tr>
				<td><label for="ismaxnrofstudentsexpectedpergroup">Maximale
						Anzahl Studenten pro Gruppe?</label></td>
				<td>
					<fieldset>
						<input type="radio" id="yes"
							ng-model="ismaxnrofstudentsexpectedpergroup"
							name="ismaxnrofstudentsexpectedpergroup" value="true"><label
							for="yes"> Ja</label><br> <input type="radio" id="no"
							ng-model="ismaxnrofstudentsexpectedpergroup"
							name="ismaxnrofstudentsexpectedpergroup" value="false"><label
							for="no"> Nein</label><br>
					</fieldset>
				</td>
			</tr>
			<tr>
				<td><label for="lecturers">Dozierende</label></td>
				<td><select name="lecturers" ng-model="selectedLecturer"
					ng-change="addLecturer()">
						<option ng-repeat="e in employees| orderBy:'lastName'"
							value="{{e.id}}">{{e.firstName}} {{e.lastName}}</option>
				</select></td>
			</tr>
			<tr>
				<td></td>
				<td><div
						ng-repeat="l in selectedLecturers | orderBy:'lastName'">
						{{l.firstName}} {{l.lastName}} <a ng-click="deleteLecturer(l.id)">delete</a>
					</div></td>
			</tr>
			<tr>
				<td><label for="swstotpergroup">SWS total pro Gruppe</label></td>
				<td><input type="number" ng-model="swstotpergroup"
					name="swstotpergroup" /></td>
			</tr>
			<tr>
				<td><label for="begindate">Beginn-Datum</label></td>
				<td><input ng-model="begintime" name="begindate" /></td>
			</tr>
			<tr>
				<td><label for="enddate">End-Datum</label></td>
				<td><input ng-model="enddate" name="enddate" /></td>
			</tr>
			<tr>
				<td><label for="rythm">Verteilung über Semester /
						Verantsaltungs-Rhythmus</label></td>
				<td><input ng-model="rythm" name="rythm" /></td>
			</tr>
			<tr>
				<td><label for="comments">Kommentare zum Modul:</label></td>
				<td><textarea ng-model="comments" name="comments" cols=40
						rows=6></textarea></td>
			</tr>
		</table>
		<div ng-show="canShowRoomtable()&&!roomtableIsVisible">
			<h1>
				<a ng-click="showRoomtable()">(+) Add rooms and times</a>
			</h1>
		</div>
		<table name="roomtable" ng-show="roomtableIsVisible">
			<tr>
				<th colspan="2">Zeiten und Räume</th>
			</tr>
			<tr>
				<td><label for="dayofweek">Wochentag</label></td>
				<td><select name="dayofweek" ng-model="dayofweek">
						<option ng-repeat="day in dayAbbreviations" value="{{day}}">{{day}}</option>
				</select></td>
			</tr>
			<tr>
				<td><label for="begintime">Startzeit</label></td>
				<td><input type="time" name="begintime" ng-model="begintime" /></td>
			</tr>
			<tr>
				<td><label for="endtime">End-Zeit</label></td>
				<td><input type="time" name="endtime" ng-model="endtime" /></td>
			</tr>
			<tr>
				<td><label for="roomlabel">Gewünschter Hörsaal</label></td>
				<td><input name="roomlabel" ng-model="roomlabel" /></td>
			</tr>
			<tr>
				<td><label for="roomcapacity">Kapazität des gewünschten
						Raums</label></td>
				<td><input name="roomcapacity" type="number"
					ng-model="roomcapacity" /></td>
			</tr>
			<tr>
				<td><label for="roomcomments">Kommentare zum Raum oder
						zu Zeiten:</label></td>
				<td><textarea name="roomcomments" cols=40 rows=6
						ng-model="roomcomments"></textarea></td>
			</tr>
			<tr>
				<td>
				<td><a name="addroomandtimes" ng-click="addRoomAndTimes()">Raum
						und Zeiten hinzufügen</a></td>
			</tr>
			<table ng-show="canShowRoomtable()">
				<tr ng-repeat="r in roomsAndTimes">
					<td>{{r.getDayOfWeek()}}</td>
					<td>{{r.getBeginTime()}}</td>
					<td>{{r.getEndTime()}}</td>
					<td>{{r.getRoomLabel()}}</td>
					<td>{{r.getRoomCapacity()}}</td>
					<td>{{r.getRoomComments()}}</td>
					<td><a ng-click="deleteRoomsAndTimes(r.getId())">delete</a></td>
				</tr>
			</table>
		</table>

		<input type="hidden" name="moduleid" value="{{getModuleId()}}">
		<input type="hidden" name="courseid" value="{{courseid}}"> <input
			type="hidden" name="roomsandtimesdata"
			value="{{formatRoomsAndTimesForTransfer()}}"> <input
			type="hidden" name="modulepartsdata"
			value="{{formatModulePartsForTransfer()}}"> <input
			type="hidden" name="lecturersdata"
			value="{{formatLecturersForTransfer()}}">
		<table>
			<tr>
				<td><input type="submit" value="Submit" /></td>
			</tr>
		</table>
	</form>
</div>